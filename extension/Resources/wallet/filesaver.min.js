/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||(navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator))||(function(i){var t=i.document,m=function(){return i.URL||i.webkitURL||i},f=i.URL||i.webkitURL||i,p=t.createElementNS("http://www.w3.org/1999/xhtml","a"),h=!i.externalHost&&"download" in p,k=function(u){var e=t.createEvent("MouseEvents");e.initMouseEvent("click",true,false,i,0,0,0,0,0,false,false,false,false,0,null);u.dispatchEvent(e)},q=i.webkitRequestFileSystem,r=i.requestFileSystem||q||i.mozRequestFileSystem,n=function(e){(i.setImmediate||i.setTimeout)(function(){throw e},0)},c="application/octet-stream",l=0,b=[],j=function(){var u=b.length;while(u--){var e=b[u];if(typeof e==="string"){f.revokeObjectURL(e)}else{e.remove()}}b.length=0},s=function(u,e,x){e=[].concat(e);var w=e.length;while(w--){var y=u["on"+e[w]];if(typeof y==="function"){try{y.call(u,x||u)}catch(v){n(v)}}}},g=function(u,v){var w=this,C=u.type,F=false,y,x,e=function(){var G=m().createObjectURL(u);b.push(G);return G},B=function(){s(w,"writestart progress write writeend".split(" "))},E=function(){if(F||!y){y=e(u)}if(x){x.location.href=y}else{window.open(y,"_blank")}w.readyState=w.DONE;B()},A=function(G){return function(){if(w.readyState!==w.DONE){return G.apply(this,arguments)}}},z={create:true,exclusive:false},D;w.readyState=w.INIT;if(!v){v="download"}if(h){y=e(u);p.href=y;p.download=v;k(p);w.readyState=w.DONE;B();return}if(i.chrome&&C&&C!==c){D=u.slice||u.webkitSlice;u=D.call(u,0,u.size,c);F=true}if(q&&v!=="download"){v+=".download"}if(C===c||q){x=i}if(!r){E();return}l+=u.size;r(i.TEMPORARY,l,A(function(G){G.root.getDirectory("saved",z,A(function(H){var I=function(){H.getFile(v,z,A(function(J){J.createWriter(A(function(K){K.onwriteend=function(L){x.location.href=J.toURL();b.push(J);w.readyState=w.DONE;s(w,"writeend",L)};K.onerror=function(){var L=K.error;if(L.code!==L.ABORT_ERR){E()}};"writestart progress write abort".split(" ").forEach(function(L){K["on"+L]=w["on"+L]});K.write(u);w.abort=function(){K.abort();w.readyState=w.DONE};w.readyState=w.WRITING}),E)}),E)};H.getFile(v,{create:false},A(function(J){J.remove();I()}),A(function(J){if(J.code===J.NOT_FOUND_ERR){I()}else{E()}}))}),E)}),E)},d=g.prototype,a=function(e,u){return new g(e,u)};d.abort=function(){var e=this;e.readyState=e.DONE;s(e,"abort")};d.readyState=d.INIT=0;d.WRITING=1;d.DONE=2;d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null;try{i.addEventListener("unload",j,false)}catch(o){}return a}(self));if(typeof module!=="undefined"){module.exports=saveAs};